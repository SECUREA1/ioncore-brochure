<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mag-Inertia One‚Ñ¢ v1 System Dashboard</title>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:700,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    main { max-width: 1000px; margin: 0 auto; padding: 40px 20px; }
    main h2 { color: var(--accent); margin-top: 40px; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 1rem; }
    th, td { border: 1px solid rgba(255,255,255,0.15); padding: 0.5rem; text-align: left; }
    th { background-color: var(--card-bg); color: var(--accent); }
    ul { margin-left: 1.5rem; }
    .calculator input { width: 4rem; margin-right: 0.5rem; }
    .calculator label { margin-right: 0.5rem; }
    .output { font-weight: bold; }
  </style>
</head>
<body>
  <header>
    <h1>Mag-Inertia One‚Ñ¢ v1 System Dashboard</h1>
    <p>Integrated Axial-Flux Drive & Energy Module</p>
    <div class="cta-buttons">
      <a href="webpage.html" class="cta-btn">Back to Home</a>
    </div>
  </header>
  <main>
    <section id="overview">
      <h2>‚öôÔ∏è System Overview</h2>
      <table>
        <tr><th>Parameter</th><th>Value</th></tr>
        <tr><td>Footprint (L√óW√óH)</td><td>305 √ó 305 √ó 390 mm</td></tr>
        <tr><td>Dry Mass</td><td>265 kg ¬± 3%</td></tr>
        <tr><td>On-board Energy</td><td>94 kWh NMC + 150 F super-cap</td></tr>
        <tr><td>Continuous Electrical Export</td><td>170 kW</td></tr>
        <tr><td>Continuous Mechanical Power</td><td>184 kW @ 3‚ÄØ000‚ÄØrpm</td></tr>
        <tr><td>Continuous Shaft Torque</td><td>1.46 kN¬∑m</td></tr>
        <tr><td>Peak Shaft Torque (10‚ÄØs)</td><td>2.00 kN¬∑m</td></tr>
        <tr><td>Idle Loss</td><td>&lt; 200 W</td></tr>
      </table>
    </section>

    <section id="subsystems">
      <h2>üß© Core Subsystems</h2>
      <ul>
        <li><strong>Rotor & Stator:</strong> 200‚ÄØmm Halbach disk, 1‚ÄØmm gap, 1.2‚ÄØT flux</li>
        <li><strong>Field Coils:</strong> 6 √ó 95 turns AWG-17 @ 10‚ÄØA</li>
        <li><strong>Active Magnetic Bearings:</strong> 2 √ó radial, 1 √ó axial, 20‚ÄØkHz control</li>
        <li><strong>Power Electronics:</strong> SiC rectifier, 2 √ó 350‚ÄØA inverters, DC-link caps</li>
        <li><strong>Energy Storage:</strong> 94‚ÄØkWh battery + 150‚ÄØF super-cap</li>
        <li><strong>Cooling:</strong> Glycol loop, 10‚ÄØkW radiator</li>
        <li><strong>Control:</strong> dSPACE VCU + H2W AMB DSP</li>
      </ul>
    </section>

    <section id="calculator">
      <h2>üßÆ Interactive Calculator</h2>
      <div class="calculator">
        <p>Compute Shaft Torque from Field & Geometry:</p>
        <label for="fieldB">Flux Density B (T):</label>
        <input type="number" id="fieldB" value="1.2" step="0.01">
        <label for="util">Utilization k<sub>œÑ</sub>:</label>
        <input type="number" id="util" value="0.65" step="0.01"><br><br>
        <label for="radius">Mean Radius r (m):</label>
        <input type="number" id="radius" value="0.05" step="0.005">
        <label for="length">Active Length ‚Ñì (m):</label>
        <input type="number" id="length" value="0.10" step="0.01"><br><br>
        <button onclick="computeTorque()" class="cta-btn">Calculate Torque</button>
        <p class="output">Torque: <span id="torqueOut">‚Äì</span> kN¬∑m</p>
      </div>
    </section>

    <section id="estimator">
      <h2>üéöÔ∏è Output Estimator</h2>
      <label for="rpm">RPM:</label>
      <input type="range" id="rpm" min="0" max="6000" value="3000" oninput="updatePower()">
      <p class="output">Estimated Power: <span id="powerOut">170.0</span> kW</p>
    </section>

    <section id="powerflow">
      <h2>üîÄ Power-Flow Logic</h2>
      <pre>
// Pseudocode for energy-mode decision
if (torque_request > 0) {
  mode = 'Motor';
  Iq = +Iq_demand;
} else if (battery_SOC < 0.9 && torque_request == 0) {
  mode = 'Charging';
  Iq = -Iq_max;
} else {
  mode = 'Idle';
  Iq = 0;
}
      </pre>
    </section>
  </main>

  <script>
    function computeTorque() {
      const B = parseFloat(document.getElementById('fieldB').value);
      const k = parseFloat(document.getElementById('util').value);
      const r = parseFloat(document.getElementById('radius').value);
      const l = parseFloat(document.getElementById('length').value);
      const mu0 = 4 * Math.PI * 1e-7;
      const tau = k * B * B / (2 * mu0);                        // Pa
      const area = 2 * Math.PI * r * l;                         // m^2
      const F = tau * area;                                     // N
      const T = (F * r) / 1000;                                 // kN¬∑m
      document.getElementById('torqueOut').innerText = T.toFixed(2);
    }

    function updatePower() {
      const rpm = parseInt(document.getElementById('rpm').value, 10);
      const power = (rpm / 3000 * 170).toFixed(1);
      document.getElementById('powerOut').innerText = power;
    }

    updatePower();
  </script>
</body>
</html>
